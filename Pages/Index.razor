@page "/"
@using FlaggGaming.Pages.componentesIndex
@using FlaggGaming.Model.juegoFlagg
@inject FlaggGaming.Entity.DatosContext datosService
@using Microsoft.EntityFrameworkCore


<PageTitle>Flagg</PageTitle>

<Carousel/>

<MasBuscados arrayMasBuscados="@arrayMasBuscados"/>
<Ofertas arrayOfertas="@arrayOfertas"/>
<Destacados />



@code{
    public JuegoFlagg[] arrayMasBuscados { get; set; } = new JuegoFlagg[4];
    public JuegoFlagg[] arrayOfertas { get; set; } = new JuegoFlagg[8];

    protected override async Task OnInitializedAsync()
    {
        arrayMasBuscados = datosService.listaJuegosData.OrderByDescending(game => game.contadorVistas).Where(game => game.imagenMini != null).ToArray();
        arrayOfertas = datosService.listaJuegosData.Where(game => game.idOferta != null).Include(game => game.oferta).ToArray();
    }
}